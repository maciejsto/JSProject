{"changed":true,"filter":false,"title":"users.js","tooltip":"/src/backend/controllers/users.js","value":"// Load required packages\n//var User = require('../models/user');\nvar User = require('mongoose').model('User');\n\n\n\n// Create endpoint /api/users for POST\nexports.postUsers = function(req, res) {\n\n  var user = new User({\n    username: req.body.username,\n    password: req.body.password\n  });\n\n  user.save(function(err) {\n    if (err){\n        console.log('error saving user');\n        res.json(err);\n    }else{\n      res.json({ message: 'New beer drinker added to the locker room!' });\n    }\n      \n    });\n};\n\n// Create endpoint /api/users for GET\nexports.getUsers = function(req, res) {\n  console.log(req.params);\n  User.find(function(err, users) {\n    if (err){\n        console.log('error getting users');\n        res.json(err);\n    }else{\n      \n      res.json(users);\n    }\n      \n    });\n};\n\nexports.getUser = function(req, res) {\n  User.findById(req.params.user_id, function(err, user){\n    if(err)\n      res.send(err);\n      \n    res.json(user);\n  });\n};\n\nexports.putUser = function(req, res) {\n  User.findById(req.params.user_id, function(err,user){\n    if (err)\n      res.send(err);\n      \n    user.password = req.params.password;\n    \n    user.save(function(err){\n      if (err)\n        res.send(err);\n        \n      res.json(user);\n    });\n  })\n} \n\n// Create endpoint /api/beers/:beer_id for DELETE\nexports.deleteUser = function(req, res) {\n  // Use the Beer model to find a specific beer and remove it\n  User.findByIdAndRemove(req.params.user_id, function(err) {\n    if (err)\n      res.send(err);\n\n    res.json({ message: 'User removed from the locker!' });\n  });\n}","undoManager":{"mark":99,"position":100,"stack":[[{"start":{"row":56,"column":13},"end":{"row":56,"column":14},"action":"insert","lines":["e"],"id":1267}],[{"start":{"row":56,"column":14},"end":{"row":56,"column":15},"action":"insert","lines":["m"],"id":1268}],[{"start":{"row":56,"column":15},"end":{"row":56,"column":16},"action":"insert","lines":["n"],"id":1269}],[{"start":{"row":56,"column":16},"end":{"row":56,"column":17},"action":"insert","lines":["d"],"id":1270}],[{"start":{"row":56,"column":16},"end":{"row":56,"column":17},"action":"remove","lines":["d"],"id":1271}],[{"start":{"row":56,"column":15},"end":{"row":56,"column":16},"action":"remove","lines":["n"],"id":1272}],[{"start":{"row":56,"column":14},"end":{"row":56,"column":15},"action":"remove","lines":["m"],"id":1273}],[{"start":{"row":56,"column":14},"end":{"row":56,"column":15},"action":"insert","lines":["n"],"id":1274}],[{"start":{"row":56,"column":15},"end":{"row":56,"column":16},"action":"insert","lines":["d"],"id":1275}],[{"start":{"row":56,"column":16},"end":{"row":56,"column":18},"action":"insert","lines":["()"],"id":1276}],[{"start":{"row":56,"column":17},"end":{"row":56,"column":18},"action":"insert","lines":["e"],"id":1277}],[{"start":{"row":56,"column":18},"end":{"row":56,"column":19},"action":"insert","lines":["r"],"id":1278}],[{"start":{"row":56,"column":19},"end":{"row":56,"column":20},"action":"insert","lines":["r"],"id":1279}],[{"start":{"row":56,"column":21},"end":{"row":56,"column":22},"action":"insert","lines":[";"],"id":1280}],[{"start":{"row":56,"column":22},"end":{"row":57,"column":0},"action":"insert","lines":["",""],"id":1281},{"start":{"row":57,"column":0},"end":{"row":57,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":57,"column":8},"end":{"row":58,"column":0},"action":"insert","lines":["",""],"id":1282},{"start":{"row":58,"column":0},"end":{"row":58,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":58,"column":6},"end":{"row":58,"column":8},"action":"remove","lines":["  "],"id":1283}],[{"start":{"row":58,"column":6},"end":{"row":58,"column":7},"action":"insert","lines":["r"],"id":1284}],[{"start":{"row":58,"column":7},"end":{"row":58,"column":8},"action":"insert","lines":["e"],"id":1285}],[{"start":{"row":58,"column":8},"end":{"row":58,"column":9},"action":"insert","lines":["s"],"id":1286}],[{"start":{"row":58,"column":9},"end":{"row":58,"column":10},"action":"insert","lines":[","],"id":1287}],[{"start":{"row":58,"column":10},"end":{"row":58,"column":11},"action":"insert","lines":["j"],"id":1288}],[{"start":{"row":58,"column":11},"end":{"row":58,"column":12},"action":"insert","lines":["s"],"id":1289}],[{"start":{"row":58,"column":12},"end":{"row":58,"column":13},"action":"insert","lines":["o"],"id":1290}],[{"start":{"row":58,"column":13},"end":{"row":58,"column":14},"action":"insert","lines":["n"],"id":1291}],[{"start":{"row":58,"column":13},"end":{"row":58,"column":14},"action":"remove","lines":["n"],"id":1292}],[{"start":{"row":58,"column":12},"end":{"row":58,"column":13},"action":"remove","lines":["o"],"id":1293}],[{"start":{"row":58,"column":11},"end":{"row":58,"column":12},"action":"remove","lines":["s"],"id":1294}],[{"start":{"row":58,"column":10},"end":{"row":58,"column":11},"action":"remove","lines":["j"],"id":1295}],[{"start":{"row":58,"column":9},"end":{"row":58,"column":10},"action":"remove","lines":[","],"id":1296}],[{"start":{"row":58,"column":9},"end":{"row":58,"column":10},"action":"insert","lines":["."],"id":1297}],[{"start":{"row":58,"column":10},"end":{"row":58,"column":11},"action":"insert","lines":["j"],"id":1298}],[{"start":{"row":58,"column":11},"end":{"row":58,"column":12},"action":"insert","lines":["s"],"id":1299}],[{"start":{"row":58,"column":12},"end":{"row":58,"column":13},"action":"insert","lines":["o"],"id":1300}],[{"start":{"row":58,"column":13},"end":{"row":58,"column":14},"action":"insert","lines":["n"],"id":1301}],[{"start":{"row":58,"column":14},"end":{"row":58,"column":16},"action":"insert","lines":["()"],"id":1302}],[{"start":{"row":58,"column":15},"end":{"row":58,"column":16},"action":"insert","lines":["u"],"id":1303}],[{"start":{"row":58,"column":16},"end":{"row":58,"column":17},"action":"insert","lines":["s"],"id":1304}],[{"start":{"row":58,"column":17},"end":{"row":58,"column":18},"action":"insert","lines":["e"],"id":1305}],[{"start":{"row":58,"column":18},"end":{"row":58,"column":19},"action":"insert","lines":["r"],"id":1306}],[{"start":{"row":58,"column":20},"end":{"row":58,"column":21},"action":"insert","lines":[";"],"id":1307}],[{"start":{"row":63,"column":0},"end":{"row":71,"column":5},"action":"insert","lines":["// Create endpoint /api/beers/:beer_id for DELETE","exports.deleteBeer = function(req, res) {","  // Use the Beer model to find a specific beer and remove it","  Beer.findByIdAndRemove(req.params.beer_id, function(err) {","    if (err)","      res.send(err);","","    res.json({ message: 'Beer removed from the locker!' });","  });"],"id":1308}],[{"start":{"row":64,"column":17},"end":{"row":64,"column":18},"action":"remove","lines":["r"],"id":1309}],[{"start":{"row":64,"column":16},"end":{"row":64,"column":17},"action":"remove","lines":["e"],"id":1310}],[{"start":{"row":64,"column":15},"end":{"row":64,"column":16},"action":"remove","lines":["e"],"id":1311}],[{"start":{"row":64,"column":14},"end":{"row":64,"column":15},"action":"remove","lines":["B"],"id":1312}],[{"start":{"row":64,"column":14},"end":{"row":64,"column":15},"action":"insert","lines":["U"],"id":1313}],[{"start":{"row":64,"column":15},"end":{"row":64,"column":16},"action":"insert","lines":["s"],"id":1314}],[{"start":{"row":64,"column":16},"end":{"row":64,"column":17},"action":"insert","lines":["e"],"id":1315}],[{"start":{"row":64,"column":17},"end":{"row":64,"column":18},"action":"insert","lines":["r"],"id":1316}],[{"start":{"row":66,"column":5},"end":{"row":66,"column":6},"action":"remove","lines":["r"],"id":1317}],[{"start":{"row":66,"column":4},"end":{"row":66,"column":5},"action":"remove","lines":["e"],"id":1318}],[{"start":{"row":66,"column":3},"end":{"row":66,"column":4},"action":"remove","lines":["e"],"id":1319}],[{"start":{"row":66,"column":2},"end":{"row":66,"column":3},"action":"remove","lines":["B"],"id":1320}],[{"start":{"row":66,"column":2},"end":{"row":66,"column":3},"action":"insert","lines":["U"],"id":1321}],[{"start":{"row":66,"column":3},"end":{"row":66,"column":4},"action":"insert","lines":["s"],"id":1322}],[{"start":{"row":66,"column":4},"end":{"row":66,"column":5},"action":"insert","lines":["e"],"id":1323}],[{"start":{"row":66,"column":5},"end":{"row":66,"column":6},"action":"insert","lines":["r"],"id":1324}],[{"start":{"row":66,"column":39},"end":{"row":66,"column":40},"action":"remove","lines":["r"],"id":1325}],[{"start":{"row":66,"column":38},"end":{"row":66,"column":39},"action":"remove","lines":["e"],"id":1326}],[{"start":{"row":66,"column":37},"end":{"row":66,"column":38},"action":"remove","lines":["e"],"id":1327}],[{"start":{"row":66,"column":36},"end":{"row":66,"column":37},"action":"remove","lines":["b"],"id":1328}],[{"start":{"row":66,"column":36},"end":{"row":66,"column":37},"action":"insert","lines":["u"],"id":1329}],[{"start":{"row":66,"column":37},"end":{"row":66,"column":38},"action":"insert","lines":["s"],"id":1330}],[{"start":{"row":66,"column":38},"end":{"row":66,"column":39},"action":"insert","lines":["e"],"id":1331}],[{"start":{"row":66,"column":39},"end":{"row":66,"column":40},"action":"insert","lines":["r"],"id":1332}],[{"start":{"row":70,"column":28},"end":{"row":70,"column":29},"action":"remove","lines":["r"],"id":1333}],[{"start":{"row":70,"column":27},"end":{"row":70,"column":28},"action":"remove","lines":["e"],"id":1334}],[{"start":{"row":70,"column":26},"end":{"row":70,"column":27},"action":"remove","lines":["e"],"id":1335}],[{"start":{"row":70,"column":25},"end":{"row":70,"column":26},"action":"remove","lines":["B"],"id":1336}],[{"start":{"row":70,"column":25},"end":{"row":70,"column":26},"action":"insert","lines":["U"],"id":1337}],[{"start":{"row":70,"column":26},"end":{"row":70,"column":27},"action":"insert","lines":["s"],"id":1338}],[{"start":{"row":70,"column":27},"end":{"row":70,"column":28},"action":"insert","lines":["e"],"id":1339}],[{"start":{"row":70,"column":28},"end":{"row":70,"column":29},"action":"insert","lines":["r"],"id":1340}],[{"start":{"row":72,"column":0},"end":{"row":72,"column":1},"action":"insert","lines":["}"],"id":1341}],[{"start":{"row":48,"column":19},"end":{"row":48,"column":20},"action":"remove","lines":[","],"id":1342}],[{"start":{"row":48,"column":19},"end":{"row":48,"column":20},"action":"insert","lines":["."],"id":1343}],[{"start":{"row":26,"column":39},"end":{"row":27,"column":0},"action":"insert","lines":["",""],"id":1345},{"start":{"row":27,"column":0},"end":{"row":27,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":27,"column":2},"end":{"row":27,"column":3},"action":"insert","lines":["c"],"id":1346}],[{"start":{"row":27,"column":3},"end":{"row":27,"column":4},"action":"insert","lines":["o"],"id":1347}],[{"start":{"row":27,"column":4},"end":{"row":27,"column":5},"action":"insert","lines":["n"],"id":1348}],[{"start":{"row":27,"column":5},"end":{"row":27,"column":6},"action":"insert","lines":["s"],"id":1349}],[{"start":{"row":27,"column":6},"end":{"row":27,"column":7},"action":"insert","lines":["o"],"id":1350}],[{"start":{"row":27,"column":7},"end":{"row":27,"column":8},"action":"insert","lines":["l"],"id":1351}],[{"start":{"row":27,"column":8},"end":{"row":27,"column":9},"action":"insert","lines":["e"],"id":1352}],[{"start":{"row":27,"column":9},"end":{"row":27,"column":10},"action":"insert","lines":["."],"id":1353}],[{"start":{"row":27,"column":10},"end":{"row":27,"column":11},"action":"insert","lines":["l"],"id":1354}],[{"start":{"row":27,"column":11},"end":{"row":27,"column":12},"action":"insert","lines":["o"],"id":1355}],[{"start":{"row":27,"column":12},"end":{"row":27,"column":13},"action":"insert","lines":["g"],"id":1356}],[{"start":{"row":27,"column":13},"end":{"row":27,"column":15},"action":"insert","lines":["()"],"id":1357}],[{"start":{"row":27,"column":14},"end":{"row":27,"column":15},"action":"insert","lines":["r"],"id":1358}],[{"start":{"row":27,"column":15},"end":{"row":27,"column":16},"action":"insert","lines":["e"],"id":1359}],[{"start":{"row":27,"column":16},"end":{"row":27,"column":17},"action":"insert","lines":["q"],"id":1360}],[{"start":{"row":27,"column":17},"end":{"row":27,"column":18},"action":"insert","lines":["."],"id":1361}],[{"start":{"row":27,"column":18},"end":{"row":27,"column":19},"action":"insert","lines":["p"],"id":1362}],[{"start":{"row":27,"column":19},"end":{"row":27,"column":20},"action":"insert","lines":["a"],"id":1363}],[{"start":{"row":27,"column":20},"end":{"row":27,"column":21},"action":"insert","lines":["r"],"id":1364}],[{"start":{"row":27,"column":21},"end":{"row":27,"column":22},"action":"insert","lines":["a"],"id":1365}],[{"start":{"row":27,"column":18},"end":{"row":27,"column":22},"action":"remove","lines":["para"],"id":1366},{"start":{"row":27,"column":18},"end":{"row":27,"column":24},"action":"insert","lines":["params"]}],[{"start":{"row":27,"column":25},"end":{"row":27,"column":26},"action":"insert","lines":[";"],"id":1367}],[{"start":{"row":32,"column":10},"end":{"row":33,"column":0},"action":"insert","lines":["",""],"id":1368},{"start":{"row":33,"column":0},"end":{"row":33,"column":6},"action":"insert","lines":["      "]}]]},"ace":{"folds":[],"scrolltop":640,"scrollleft":0,"selection":{"start":{"row":34,"column":20},"end":{"row":34,"column":20},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":44,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1438590084005}
{"filter":false,"title":"main.controller.js","tooltip":"/src/front/js/controllers/main.controller.js","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":27,"column":16},"action":"remove","lines":["","    ","angular.module('main.controller', [])","","    .controller('mainController', function($scope, $http, angService) {","        ","        $scope.message = angService.getSampleData()","        ","        $scope.todos = ['Item 1', 'Item 2', 'Item 3'];","         ","        $scope.addTodo = function () {","                $scope.todos.push($scope.todo);","                $scope.todo = '';","        };","        ","        $scope.removeTodo = function (index) {","                $scope.todos.splice(index, 1);","        };","        //$scope.message = \"test\"","        /*        ","        angService.get()","                .success(function(data){","                       $scope.message =JSON.parse(data);","                })","                .error(function(err){","                        console.log(err)","                });","                "],"id":102},{"start":{"row":0,"column":0},"end":{"row":49,"column":5},"action":"insert","lines":["angular.module('todoController', [])","","\t// inject the Todo service factory into our controller","\t.controller('mainController', ['$scope','$http','Todos', function($scope, $http, Todos) {","\t\t$scope.formData = {};","\t\t$scope.loading = true;","","\t\t// GET =====================================================================","\t\t// when landing on the page, get all todos and show them","\t\t// use the service to get all the todos","\t\tTodos.get()","\t\t\t.success(function(data) {","\t\t\t\t$scope.todos = data;","\t\t\t\t$scope.loading = false;","\t\t\t});","","\t\t// CREATE ==================================================================","\t\t// when submitting the add form, send the text to the node API","\t\t$scope.createTodo = function() {","","\t\t\t// validate the formData to make sure that something is there","\t\t\t// if form is empty, nothing will happen","\t\t\tif ($scope.formData.text != undefined) {","\t\t\t\t$scope.loading = true;","","\t\t\t\t// call the create function from our service (returns a promise object)","\t\t\t\tTodos.create($scope.formData)","","\t\t\t\t\t// if successful creation, call our get function to get all the new todos","\t\t\t\t\t.success(function(data) {","\t\t\t\t\t\t$scope.loading = false;","\t\t\t\t\t\t$scope.formData = {}; // clear the form so our user is ready to enter another","\t\t\t\t\t\t$scope.todos = data; // assign our new list of todos","\t\t\t\t\t});","\t\t\t}","\t\t};","","\t\t// DELETE ==================================================================","\t\t// delete a todo after checking it","\t\t$scope.deleteTodo = function(id) {","\t\t\t$scope.loading = true;","","\t\t\tTodos.delete(id)","\t\t\t\t// if successful creation, call our get function to get all the new todos","\t\t\t\t.success(function(data) {","\t\t\t\t\t$scope.loading = false;","\t\t\t\t\t$scope.todos = data; // assign our new list of todos","\t\t\t\t});","\t\t};","\t}]);"]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":49,"column":5},"end":{"row":49,"column":5},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1438683633878,"hash":"e0224fd339b4a1612f6d8b9e3e573581834c2562"}